read potentiometer input to a variable and write to servo position in the main loop

---

I'll help you read the potentiometer input and use it to control the servo position. I need to make a few corrections and add the potentiometer reading functionality.

---

Adding potentiometer reading functionality and fixing syntax error

---

I've updated your code to:

1. **Fixed syntax error**: Added missing semicolon after `pinMode(POTENCIOMETRO, INPUT)`
2. **Added potentiometer reading**: `int potValue = analogRead(POTENCIOMETRO);` reads the analog value (0-1023)
3. **Mapped to servo range**: `int servoPos = map(potValue, 0, 1023, 0, 180);` converts the potentiometer reading to servo degrees (0-180)
4. **Applied to servo**: `motorzinho.write(servoPos);` sets the servo position based on potentiometer input

Now the servo position will continuously respond to the potentiometer input while the traffic light sequence runs. The potentiometer controls the servo angle from 0° to 180° based on its rotation.

---

Servo is actualy 90 degrees, I guess. It is an SG90.

---

You're right! The SG90 servo has a 180° range, but if you want to limit it to 90°, I'll update the mapping:

---

Updating servo range to 90 degrees for SG90 servo

---

Now the servo will move from 0° to 90° based on the potentiometer input, which is more appropriate for the SG90 servo's typical usage range.

---

No, let's use all 180 deg

---

Restoring full 180 degree range for the servo

---

Perfect! Now the servo will use its full 180° range based on the potentiometer input.

---

Weak. LEDs ON and L blinking while motor tries to run. Maybe because I was trying to feed the circuito only with USB port, right?

---

Exactly! You're experiencing a power issue. The USB port can only provide about 500mA, but servos can draw 100-200mA or more, especially under load. When the servo tries to move, it causes voltage drops that make the Arduino unstable (hence the L LED blinking and weak performance).

I see you've already commented out the LEDs to reduce power consumption, which is smart. For a proper solution, you need:

1. **External power supply** (7-12V DC adapter connected to the barrel jack)
2. **Or use a separate 5V power supply** for the servo while keeping Arduino on USB

The external power will provide enough current for both the Arduino and servo to operate properly. The USB power is fine for programming and simple circuits, but servos need more juice!